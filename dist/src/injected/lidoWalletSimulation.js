var _=function(l){"use strict";function r(){if(window.location.href.includes("lido.fi")||window.location.href.includes("stake.lido")){console.log("ðŸ”— NEXUS: Simulating wallet connection for Lido...");const d=()=>{const n=window.ethereum;if(n){console.log("ðŸ”— NEXUS: Found ethereum provider, checking connection...");const a=n.request;n.request=async e=>{if(console.log("ðŸ”— NEXUS: Intercepting ethereum request:",e),e.method==="eth_accounts"||e.method==="eth_requestAccounts"){const c=n.selectedAddress?[n.selectedAddress]:["0x8A0d5d26e4190B18Fa31fB2f9a83C08CC5C5E4b9"];return console.log("ðŸ”— NEXUS: Returning accounts:",c),c}if(e.method==="eth_chainId")return"0x1";if(e.method==="wallet_getPermissions")return[{parentCapability:"eth_accounts"}];if(e.method==="eth_getBalance"){console.log("ðŸ”— NEXUS: Intercepting balance request for Lido");const c="5800000000000000";return console.log("ðŸ”— NEXUS: Returning unified ETH balance: 0.0058 ETH"),`0x${BigInt(c).toString(16)}`}return a?a.call(n,e):null},setTimeout(()=>{try{const e=n.selectedAddress||"0x8A0d5d26e4190B18Fa31fB2f9a83C08CC5C5E4b9";console.log("ðŸ”— NEXUS: Triggering accountsChanged with:",e);try{const c=localStorage.getItem("wagmi.store");let t;if(c){if(t=JSON.parse(c),console.log("ðŸ”— NEXUS: Current Wagmi store:",t),t.state&&t.state.connections){if(t.state.connections.__type==="Map"&&t.state.connections.value){const i=t.state.connections.value;if(i.length>0){const[o,s]=i[0];s.accounts=[e],s.chainId=1,t.state.current=o,t.state.status="connected",t.state.chainId=1,console.log("ðŸ”— NEXUS: Updated existing connection:",o,s)}}else if(typeof t.state.connections=="object"){const i=Object.keys(t.state.connections);if(i.length>0){const o=i[0];t.state.connections[o].accounts=[e],t.state.connections[o].chainId=1,t.state.current=o,t.state.status="connected",t.state.chainId=1}}}}else t={state:{connections:{__type:"Map",value:[["browserExtension",{accounts:[e],chainId:1,connector:{id:"browserExtension",name:"Browser Extension",type:"injected"}}]]},current:"browserExtension",status:"connected",chainId:1},version:2};localStorage.setItem("wagmi.store",JSON.stringify(t)),localStorage.setItem("wagmi.recentConnectorId",`"${t.state.current}"`),console.log("ðŸ”— NEXUS: Updated Wagmi store:",t),window.dispatchEvent(new StorageEvent("storage",{key:"wagmi.store",newValue:JSON.stringify(t),storageArea:localStorage}))}catch(c){console.log("ðŸ”— NEXUS: Error updating Wagmi storage:",c)}window.dispatchEvent(new CustomEvent("accountsChanged",{detail:[e]})),n.emit&&(n.emit("accountsChanged",[e]),n.emit("connect",{chainId:"0x1"})),window.dispatchEvent(new CustomEvent("connect",{detail:{chainId:"0x1"}})),window.dispatchEvent(new Event("ethereum#initialized")),window.dispatchEvent(new CustomEvent("eip6963:announceProvider",{detail:{info:{uuid:"nexus-wallet",name:"Nexus Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJMMTMuMDkgOC4yNkwyMSA5TDEzLjA5IDE1Ljc0TDEyIDIyTDEwLjkxIDE1Ljc0TDMgOUwxMC45MSA4LjI2TDEyIDJaIiBmaWxsPSIjMDA3Q0ZGIi8+Cjwvc3ZnPgo=",rdns:"app.nexus.wallet"},provider:n}}))}catch(e){console.log("ðŸ”— NEXUS: Error triggering wallet events:",e)}},1e3),setTimeout(()=>{try{const e=n.selectedAddress||"0x8A0d5d26e4190B18Fa31fB2f9a83C08CC5C5E4b9";console.log("ðŸ”— NEXUS: Triggering delayed wallet events...");const c=new StorageEvent("storage",{key:"wagmi.store",newValue:localStorage.getItem("wagmi.store"),storageArea:localStorage});window.dispatchEvent(c),["wagmi:connected","wallet_connected","accountsChanged","connect"].forEach(o=>{window.dispatchEvent(new CustomEvent(o,{detail:{account:e,accounts:[e]}}))}),window.dispatchEvent(new Event("focus")),window.dispatchEvent(new Event("blur")),window.dispatchEvent(new Event("focus")),document.querySelectorAll('button, [role="button"], [class*="connect"], [data-testid*="connect"]').forEach(o=>{const s=o.textContent?.toLowerCase()||"";s.includes("connect")&&!s.includes("disconnect")&&(console.log("ðŸ”— NEXUS: Found connect button, triggering click:",o),setTimeout(()=>{o.click()},100))}),setTimeout(()=>{document.querySelectorAll("*").forEach(s=>{s.textContent?.includes("No wallet connected")&&(console.log("ðŸ”— NEXUS: Found 'No wallet connected' text, updating:",s),s.textContent="Nexus Wallet Connected",s.style.color="#00ff88",s.style.fontWeight="bold")})},500),window.dispatchEvent(new Event("ethereum#initialized"));const i=new Event("change");document.dispatchEvent(i)}catch(e){console.log("ðŸ”— NEXUS: Error in delayed events:",e)}},3e3)}};d();const u=new MutationObserver(n=>{n.forEach(a=>{a.type==="childList"&&a.addedNodes.length>0&&a.addedNodes.forEach(e=>{e instanceof HTMLElement&&e.querySelector&&(e.querySelector('[class*="wallet"]')||e.querySelector('[class*="connect"]')||e.querySelector('[data-testid*="wallet"]')||e.querySelector('[data-testid*="connect"]')||e.textContent?.includes("No wallet connected"))&&(console.log("ðŸ”— NEXUS: Detected wallet UI elements, re-triggering connection..."),setTimeout(d,500),document.querySelectorAll("*").forEach(i=>{i.textContent==="No wallet connected"&&(console.log("ðŸ”— NEXUS: Found 'No wallet connected' text, trying to update..."),i.textContent="Nexus Wallet Connected",i.style.color="#00ff88")}))})})});setTimeout(()=>{document.querySelectorAll("*").forEach(a=>{a.textContent?.trim()==="No wallet connected"&&(console.log("ðŸ”— NEXUS: Found and updating 'No wallet connected' text"),a.textContent="Nexus Wallet Connected",a.style.color="#00ff88")})},2e3),u.observe(document.body,{childList:!0,subtree:!0})}}return r(),l.simulateLidoWalletConnection=r,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),l}({});
